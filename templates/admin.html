<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <style>
        body { background: #111; color: white; font-family: sans-serif; padding: 20px; }
        .section { background: #222; padding: 15px; margin-bottom: 20px; border: 1px solid #444; }
        input, select { background: #000; color: white; border: 1px solid #555; padding: 5px; }
        button { background: #00e676; border: none; cursor: pointer; padding: 5px 10px; font-weight: bold; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #444; padding: 8px; text-align: left; }
    </style>
</head>
<body>
    <h1>üëë ZENI ADMIN DASHBOARD</h1>

    <div class="section">
        <h3>üèÜ UPDATE LEADERBOARD</h3>
        <form action="/update_leaderboard" method="post">
            <select name="lb_type">
                <option value="SOLO">SOLO Leaderboard</option>
                <option value="DUO">DUO Leaderboard</option>
            </select>
            <input type="text" name="name" placeholder="Winner Name / Team" required>
            <input type="text" name="kills" placeholder="Kills" required>
            <input type="text" name="prize" placeholder="Prize (e.g. ‚Çπ200)" required>
            <button type="submit">ADD WINNER</button>
        </form>
    </div>

    <div class="section">
        <h3>üìã PLAYER REQUESTS</h3>
        <table>
            <tr>
                <th>Mode</th>
                <th>Team Details</th>
                <th>Payment Info</th>
                <th>Action</th>
            </tr>
            {% for reg in requests %}
            <tr>
                <td>{{ reg.mode }}</td>
                <td>
                    <b>P1:</b> {{ reg.p1_name }} ({{ reg.p1_uid }})<br>
                    {% if reg.mode == 'DUO' %}
                        <b>P2:</b> {{ reg.p2_name }} ({{ reg.p2_uid }})<br>
                        <small style="color:#aaa;">Sub: {{ reg.sub_name }} ({{ reg.sub_uid }})</small>
                    {% endif %}
                </td>
                <td>
                    Txn: {{ reg.txn_id }}<br>
                    Sender: {{ reg.sender }}
                </td>
                <td>
                    {% if reg.status == 'PENDING' %}
                    <form action="/approve/{{ reg.p1_uid }}" method="post">
                        <input type="text" name="room_id" placeholder="Room ID" size="8">
                        <input type="text" name="room_pass" placeholder="Pass" size="8">
                        <button type="submit">‚úÖ Approve</button>
                    </form>
                    {% else %}
                    <span style="color:green; font-weight:bold;">Sent ‚úÖ</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>
